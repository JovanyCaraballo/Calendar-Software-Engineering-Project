from PyQt5 import QtCore, QtGui, QtWidgets
from datetime import date, datetime
from PyQt5.QtWidgets import *
from PyQt5.QtGui import *
import calendar
import sys


class Calendar(QMainWindow):
    def __init__(self):
        super(Calendar, self).__init__() # QMainWindow or MainWindow
        self.setup_ui(self)

    def setup_ui(self, MainWindow):
        MainWindow.setObjectName("MainWindow")
        MainWindow.resize(900, 800)
        self.centralwidget = QtWidgets.QWidget(MainWindow)
        self.centralwidget.setObjectName("centralwidget")
        self.frame = QtWidgets.QFrame(self.centralwidget)
        self.frame.setGeometry(QtCore.QRect(10, 10, 871, 821))
        self.frame.setFrameShape(QtWidgets.QFrame.StyledPanel)
        self.frame.setFrameShadow(QtWidgets.QFrame.Raised)
        #self.frame.setStyleSheet("border: 3px solid blue;")
        self.frame.setObjectName("frame")

        self.horizontalLayoutWidget = QtWidgets.QWidget(self.frame)
        self.horizontalLayoutWidget.setGeometry(QtCore.QRect(640, 10, 195, 80))
        self.horizontalLayoutWidget.setObjectName("horizontalLayoutWidget")
        self.horizontalLayout = QtWidgets.QHBoxLayout(self.horizontalLayoutWidget)
        self.horizontalLayout.setContentsMargins(0, 0, 0, 0)
        self.horizontalLayout.setObjectName("horizontalLayout")
        self.push_button = QtWidgets.QPushButton(self.horizontalLayoutWidget)
        self.push_button.setObjectName("push_button")
        self.push_button.clicked.connect(self.show_year) # SHOW YEAR TAB
        self.horizontalLayout.addWidget(self.push_button)
        self.push_button2 = QtWidgets.QPushButton(self.horizontalLayoutWidget)
        self.push_button2.setObjectName("push_button2")
        self.push_button2.clicked.connect(self.show_month)  # SHOW MONTH TAB
        self.horizontalLayout.addWidget(self.push_button2)

        self.horizontalLayoutWidget2 = QtWidgets.QWidget(self.frame)
        self.horizontalLayoutWidget2.setGeometry(QtCore.QRect(0, 680, 195, 80))
        self.horizontalLayoutWidget2.setObjectName("horizontalLayoutWidget2")
        self.horizontalLayout2 = QtWidgets.QHBoxLayout(self.horizontalLayoutWidget2)
        self.horizontalLayout2.setContentsMargins(0, 0, 0, 0)
        self.horizontalLayout2.setObjectName("horizontalLayout2")
        self.push_button3 = QtWidgets.QPushButton(self.horizontalLayoutWidget2)
        self.push_button3.setObjectName("push_button3")
        # self.push_button3.clicked.connect(self.share)
        self.horizontalLayout2.addWidget(self.push_button3)

        self.horizontalLayoutWidget3 = QtWidgets.QWidget(self.frame)
        self.horizontalLayoutWidget3.setGeometry(QtCore.QRect(640, 80, 195, 80))
        self.horizontalLayoutWidget3.setObjectName("horizontalLayoutWidget3")
        self.horizontalLayout3 = QtWidgets.QHBoxLayout(self.horizontalLayoutWidget3)
        self.horizontalLayout3.setContentsMargins(0, 0, 0, 0)
        self.horizontalLayout3.setObjectName("horizontalLayout3")
        self.push_button4 = QtWidgets.QPushButton(self.horizontalLayoutWidget3)
        self.push_button4.setObjectName("push_button4")
        # self.push_button4.clicked.connect(self.create)
        self.horizontalLayout3.addWidget(self.push_button4)
        self.push_button5 = QtWidgets.QPushButton(self.horizontalLayoutWidget3)
        self.push_button5.setObjectName("push_button5")
        # self.push_button5.clicked.connect(self.delete)
        self.horizontalLayout3.addWidget(self.push_button5)

        self.gridLayoutWidget = QtWidgets.QWidget(self.frame)
        self.gridLayoutWidget.setGeometry(QtCore.QRect(10, 70, 601, 631))
        self.gridLayoutWidget.setObjectName("gridLayoutWidget")
        self.gridLayout = QtWidgets.QGridLayout(self.gridLayoutWidget)
        self.gridLayout.setContentsMargins(0, 0, 0, 0)
        self.gridLayout.setObjectName("gridLayout")

        self.label = QtWidgets.QLabel(self.gridLayoutWidget)
        self.label.setObjectName("label")

        # self.table_widget = QtWidgets.QTableWidget(self.gridLayoutWidget)
        # self.table_widget.setObjectName("table_widget")
        # self.table_widget.setColumnCount(0)
        # self.table_widget.setRowCount(0)
        # self.gridLayout.addWidget(self.table_widget, 0, 0, 1, 1)

        self.scrollArea = QtWidgets.QScrollArea(self.centralwidget)
        self.scrollArea.setGeometry(QtCore.QRect(590, 200, 250, 500))
        self.scrollArea.setWidgetResizable(True)
        self.scrollArea.setObjectName("scrollArea")
        self.scrollAreaWidgetContents = QtWidgets.QWidget()
        self.scrollAreaWidgetContents.setGeometry(QtCore.QRect(0, 0, 289, 149)) # CHECK
        self.scrollAreaWidgetContents.setObjectName("scrollAreaWidgetContents")
        self.scrollArea.setWidget(self.scrollAreaWidgetContents)

        MainWindow.setCentralWidget(self.centralwidget)
        self.menubar = QtWidgets.QMenuBar(MainWindow)
        self.menubar.setGeometry(QtCore.QRect(0, 0, 600, 26))
        self.menubar.setObjectName("menubar")
        MainWindow.setMenuBar(self.menubar)
        self.statusbar = QtWidgets.QStatusBar(MainWindow)
        self.statusbar.setObjectName("statusbar")
        MainWindow.setStatusBar(self.statusbar)

        self.retranslate_ui(MainWindow)
        QtCore.QMetaObject.connectSlotsByName(MainWindow)

    def retranslate_ui(self, MainWindow):
        _translate = QtCore.QCoreApplication.translate
        MainWindow.setWindowTitle(_translate("MainWindow", "Calendar"))
        self.push_button.setText(_translate("MainWindow", "Year"))
        self.push_button2.setText(_translate("MainWindow", "Month"))
        self.push_button3.setText(_translate("MainWindow", "Share"))
        self.push_button4.setText(_translate("MainWindow", "Create"))
        self.push_button5.setText(_translate("MainWindow", "Delete"))
        #self.label.setText(_translate("MainWindow", "TextLabel"))
        self.show_year()


    def show_year(self):
        current_date = datetime.now()
        print(calendar.calendar(current_date.year, 2, 1, 6))
        self.label.resize(500, 641)
        self.label.setFont(QFont('Arial', 9))
        self.label.setText(calendar.calendar(current_date.year, 2, 1, 6))



    def show_month(self):
        # populate calendar with all details
        yy = 2021  # get selected year
        mm = 11  # get selected month
        dd = 15  # get selected day
        time = "8:00am-8:19am"  # time of event

        # display the calendar by month
        print(calendar.month(yy, mm))
        self.label.resize(651, 531)
        self.label.setFont(QFont('Arial', 30))
        self.label.setText(calendar.month(yy, mm))

    def show_msg_box(self):
        show_msg = QMessageBox(QMessageBox.Critical,
                               'Error',
                               "Sorry,  an error occurred while processing your request",
                               QMessageBox.Ok | QMessageBox.Cancel)

        show_msg.exec_()

def main():
    app = QApplication(sys.argv)
    gui = Calendar()
    gui.show()
    sys.exit(app.exec_())


main()
